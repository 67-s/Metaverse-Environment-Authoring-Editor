using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class CameraMove : MonoBehaviour
{
	const float kTurnSpeedX = 2.0f; // 마우스 회전 속도
	const float kTurnSpeedY = 5.0f; // 마우스 회전 속도
	const float kMoveSpeed = 2.0f; // 이동 속도
	static bool IsCameraActive = false;
	void Update()
	{
		if (IsCameraActive)
		{
			MouseRotation();
			KeyboardMove();
		}
		if (Input.GetButtonDown("CameraActive"))
			IsCameraActive = !IsCameraActive;
	}

	public void SetIsCameraActive(bool val)
	{
		IsCameraActive = val;
	}

	// 카메라 회전
	void MouseRotation()
	{
		// 카메라 좌우 움직임
		// 화면에서 x축으로 마우스를 움직이면 카메라 좌표계에서는 카메라를 y축 기준으로 회전한 것이다.
		float yRotateSize = Input.GetAxis("Mouse X") * kTurnSpeedY;

		// 카메라 위아래 움직임
		// 화면에서 y축으로 마우스를 움직이면 카메라 좌표계에서는 x축 기준으로 회전한 것이다.
		float xRotateSize = -Input.GetAxis("Mouse Y") * kTurnSpeedX;

		// 카메라 회전량을 카메라에 반영(X, Y축만 회전)
		transform.eulerAngles += new Vector3(xRotateSize, yRotateSize, 0);
	}

	// 키보드의 눌림에 따라 이동
	void KeyboardMove()
	{
		transform.Translate(new Vector3(Input.GetAxis("Horizontal"), Input.GetAxis("Up"), Input.GetAxis("Vertical")) * kMoveSpeed * Time.deltaTime);
	}
	public void CameraReset()
	{
		transform.position = new Vector3(0, 1, 0);
		transform.eulerAngles = new Vector3(0, 0, 0);
	}
}
